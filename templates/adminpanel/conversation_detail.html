{% extends "adminpanel/base_admin.html" %}
{% block title %}{{ conversation.title }} - Admin - TLE AI{% endblock %}

{% block admin_content %}
<div class="mb-6">
    <a href="{% url 'adminpanel:conversations' %}" class="text-sm text-gray-500 hover:text-gray-700">&larr; Back</a>
    <h1 class="text-2xl font-bold text-gray-800 mt-1">{{ conversation.title }}</h1>
    <p class="text-sm text-gray-500">User: {{ conversation.user.email }} &middot; Created: {{ conversation.created_at|date:"M j, Y H:i" }}</p>
</div>

<div class="space-y-4 max-w-3xl">
    {% for msg in chat_messages %}
    <div class="card p-4 {% if msg.role == 'user' %}bg-gray-50{% endif %}">
        <div class="flex items-center gap-2 mb-2">
            <span class="text-xs font-medium px-2 py-0.5 rounded
                {% if msg.role == 'user' %}badge-status-default{% else %}badge-assistant{% endif %}">
                {{ msg.role|title }}
            </span>
            <span class="text-xs text-gray-400">{{ msg.created_at|date:"M j, Y H:i:s" }}</span>
        </div>
        <p class="text-sm text-gray-700 whitespace-pre-wrap">{{ msg.content }}</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
